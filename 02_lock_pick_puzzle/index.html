<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rusty Locker Combination</title>
    <style>
        /* Embedded fonts */
        @font-face {
            font-family: 'Industrial';
            src: local('Courier New'), local('Consolas'), monospace;
        }
        
        @font-face {
            font-family: 'Digital';
            src: local('Arial Black'), local('Impact'), sans-serif;
        }
        
        /* Handwriting font for sticky note */
        @font-face {
            font-family: 'Handwriting';
            src: local('Comic Sans MS'), local('Segoe Print'), cursive;
        }
    </style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Rust Overlay for texture -->
    <div class="rust-overlay"></div>
    
    <!-- Splash Screens -->
    <div id="winScreen" class="splash-screen">
        <div class="splash-content locker-frame">
            <h2>âœ“ LOCKER OPENED</h2>
            <p>All pins aligned at shear line! The locker door creaks open.</p>
            <button class="metal-btn" onclick="location.reload()">âŸ³ TRY ANOTHER LOCKER</button>
        </div>
    </div>
    
    <div id="loseScreen" class="splash-screen">
        <div class="splash-content locker-frame">
            <h2>âœ— LOCKER JAMMED</h2>
            <p>The lock mechanism is stuck... You'll need another tool.</p>
            <button class="metal-btn" onclick="location.reload()">âš’ FORCE RESET</button>
        </div>
    </div>
    
    <!-- Main Game -->
    <div class="locker-container" id="gameContainer" tabindex="0">
        <!-- Main locker frame -->
        <div class="locker-frame">
            <!-- Locker header with number -->
            <div class="locker-header">
                <div class="locker-number-plate">
                    <span class="number">327</span>
                    <span class="label">SCHOOL LOCKER</span>
                </div>
                <div class="vent-slits">
                    <div class="slit"></div>
                    <div class="slit"></div>
                    <div class="slit"></div>
                </div>
            </div>

            <!-- Sticky Note with Owner's Name -->
            <div class="sticky-note-container">
                <div class="sticky-note">
                    <div class="sticky-note-pin"></div>
                    <div class="sticky-note-content">
                        <div class="sticky-note-title">âš¡ LOCKER OWNER</div>
                        <div class="sticky-note-name">ALEX J. CARTER</div>
                        <div class="sticky-note-subtitle">Grade 12 â€¢ Physics Major</div>
                    </div>
                    <div class="sticky-note-corners">
                        <div class="corner top-left"></div>
                        <div class="corner top-right"></div>
                        <div class="corner bottom-left"></div>
                        <div class="corner bottom-right"></div>
                    </div>
                </div>
            </div>

            <main>
                <div class="game-area">
                    <!-- Game container with realistic lock -->
                    <div class="game-container">
                        <!-- Realistic lock mechanism -->
                        <div class="real-lock-section" id="realLockSection">
                            <!-- Will be generated by JavaScript -->
                        </div>
                        
                        <!-- Vertical lockpick tracks (simplified) -->
                        <div class="lockpicks-container" id="lockpicksContainer">
                            <!-- Lockpick tracks will be generated by JavaScript -->
                        </div>
                    </div>

                    <!-- Game status and controls -->
                    <div class="game-info">
                        <div class="game-status">
                            <div class="status-card metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>âš™ CURRENT PIN</h3>
                                <div class="status-value" id="currentBarrel">1</div>
                            </div>
                            <div class="status-card metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>ðŸ”§ ATTEMPTS LEFT</h3>
                                <div class="status-value" id="lockpicksCount">3</div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="instructions metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>âŒ¨ CONTROLS</h3>
                                <div class="instruction">
                                    <span class="key metal-key">â†‘ W</span>
                                    <span class="desc">Start picking pin</span>
                                </div>
                                <div class="instruction">
                                    <span class="key metal-key">â†µ ENTER</span>
                                    <span class="desc">Set pin at shear line</span>
                                </div>
                            </div>

                            <!-- Game rules -->
                            <div class="rules metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>ðŸ“‹ LOCK PICKING RULES</h3>
                                <ul>
                                    <li>Set all pins at shear line in sequence</li>
                                    <li>Press W to start picking current pin</li>
                                    <li>Press ENTER when pin aligns with shear line</li>
                                    <li>Failed ENTER attempt uses 1 lockpick</li>
                                    <li>Missed timing resets current pin</li>
                                    <li>All pins reset on failed attempt</li>
                                    <li>Game resets on page refresh</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- <footer class="metal-footer">
                <p>ðŸ”© Industrial-grade lock picking simulation</p>
                <div class="rust-stain"></div>
            </footer> -->
        </div>
    </div>

    <!-- Audio elements for sounds -->
    <audio id="soundLockpickMove" preload="auto">
        <source src="sounds/move.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickFix" preload="auto">
        <source src="sounds/fix.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickBreak" preload="auto">
        <source src="sounds/break.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundBarrelUnlock" preload="auto">
        <source src="sounds/unlock.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>