<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rusty Locker Combination</title>
    <style>
        /* Embedded fonts */
        @font-face {
            font-family: 'Industrial';
            src: local('Courier New'), local('Consolas'), monospace;
        }
        
        @font-face {
            font-family: 'Digital';
            src: local('Arial Black'), local('Impact'), sans-serif;
        }
    </style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Rust Overlay for texture -->
    <div class="rust-overlay"></div>
    
    <!-- Splash Screens -->
    <div id="winScreen" class="splash-screen">
        <div class="splash-content locker-frame">
            <h2>âœ“ LOCKER OPENED</h2>
            <p>All combination pins aligned! The locker door creaks open.</p>
            <button class="metal-btn" onclick="location.reload()">âŸ³ TRY ANOTHER LOCKER</button>
        </div>
    </div>
    
    <div id="loseScreen" class="splash-screen">
        <div class="splash-content locker-frame">
            <h2>âœ— LOCKER JAMMED</h2>
            <p>The mechanism is stuck... You'll need another tool.</p>
            <button class="metal-btn" onclick="location.reload()">âš’ FORCE RESET</button>
        </div>
    </div>
    
    <!-- Main Game -->
    <div class="locker-container" id="gameContainer" tabindex="0">
        <!-- Main locker frame -->
        <div class="locker-frame">
            <!-- Locker header with number -->
            <div class="locker-header">
                <div class="locker-number-plate">
                    <span class="number">327</span>
                    <span class="label">SCHOOL LOCKER</span>
                </div>
                <div class="vent-slits">
                    <div class="slit"></div>
                    <div class="slit"></div>
                    <div class="slit"></div>
                </div>
            </div>

            <header class="metal-header">
                <h1>âš™ RUSTY LOCKER COMBINATION</h1>
                <p class="subtitle">Align the pins to crack the lock</p>
            </header>

            <main>
                <div class="game-area">
                    <!-- Game container with barrels and vertical lockpicks -->
                    <div class="game-container">
                        <!-- Horizontal lock barrels with vertical lockpicks below -->
                        <div class="barrels-lockpicks-container">
                            <div class="lock-barrels" id="lockBarrels">
                                <!-- Barrels will be generated by JavaScript -->
                            </div>
                            
                            <!-- Vertical lockpick tracks under each barrel -->
                            <div class="lockpicks-container" id="lockpicksContainer">
                                <!-- Lockpick tracks will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Game status and controls -->
                    <div class="game-info">
                        <div class="game-status">
                            <div class="status-card metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>âš™ CURRENT PIN</h3>
                                <div class="status-value" id="currentBarrel">1</div>
                            </div>
                            <div class="status-card metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>ðŸ”§ ATTEMPTS LEFT</h3>
                                <div class="status-value" id="lockpicksCount">10</div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="instructions metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>âŒ¨ CONTROLS</h3>
                                <div class="instruction">
                                    <span class="key metal-key">â†‘ W</span>
                                    <span class="desc">Start pin alignment</span>
                                </div>
                                <div class="instruction">
                                    <span class="key metal-key">â†µ ENTER</span>
                                    <span class="desc">Set pin at correct position</span>
                                </div>
                            </div>

                            <!-- Game rules -->
                            <div class="rules metal-panel">
                                <div class="metal-bolt small"></div>
                                <h3>ðŸ“‹ LOCKER COMBINATION RULES</h3>
                                <ul>
                                    <li>Align all 5 pins in sequence</li>
                                    <li>Failed ENTER attempt uses 1 attempt</li>
                                    <li>Missed timing (no ENTER) just resets pin</li>
                                    <li>If attempt fails, ALL pins reset</li>
                                    <li>Press W for each alignment attempt</li>
                                    <li>Game resets on page refresh</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <footer class="metal-footer">
                <p>ðŸ”© Industrial-grade locker simulation</p>
                <div class="rust-stain"></div>
            </footer>
        </div>
    </div>

    <!-- Audio elements for sounds - original files as before -->
    <audio id="soundLockpickMove" preload="auto">
        <source src="sounds/move.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickFix" preload="auto">
        <source src="sounds/fix.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickBreak" preload="auto">
        <source src="sounds/break.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundBarrelUnlock" preload="auto">
        <source src="sounds/unlock.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>