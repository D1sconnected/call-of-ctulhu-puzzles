<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cthulhu Lockpicking</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Splash Screens -->
    <div id="winScreen" class="splash-screen">
        <div class="splash-content">
            <h2>VICTORY!</h2>
            <p>All barrels unlocked! The ancient mechanism yields to your skill.</p>
            <button class="splash-btn" onclick="location.reload()">PLAY AGAIN</button>
        </div>
    </div>
    
    <div id="loseScreen" class="splash-screen">
        <div class="splash-content">
            <h2>DEFEAT!</h2>
            <p>The mechanism remains locked... The whispers fade into silence.</p>
            <button class="splash-btn" onclick="location.reload()">TRY AGAIN</button>
        </div>
    </div>
    
    <!-- Main Game -->
    <div class="container" id="gameContainer" tabindex="0">
        <header>
            <h1>CTHULHU LOCKPICKING</h1>
            <p class="subtitle">Unlock the ancient mechanism</p>
        </header>

        <main>
            <div class="game-area">
                <!-- Game container with barrels and vertical lockpicks -->
                <div class="game-container">
                    <!-- Horizontal lock barrels with vertical lockpicks below -->
                    <div class="barrels-lockpicks-container">
                        <div class="lock-barrels" id="lockBarrels">
                            <!-- Barrels will be generated by JavaScript -->
                        </div>
                        
                        <!-- Vertical lockpick tracks under each barrel -->
                        <div class="lockpicks-container" id="lockpicksContainer">
                            <!-- Lockpick tracks will be generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Game status and controls -->
                <div class="game-info">
                    <div class="game-status">
                        <div class="status-card">
                            <h3>CURRENT BARREL</h3>
                            <div class="status-value" id="currentBarrel">1</div>
                        </div>
                        <div class="status-card">
                            <h3>LOCKPICKS LEFT</h3>
                            <div class="status-value" id="lockpicksCount">10</div>
                        </div>
                    </div>

                    <div class="controls">
                        <div class="instructions">
                            <h3>CONTROLS</h3>
                            <div class="instruction">
                                <span class="key">W</span>
                                <span class="desc">Start lockpick movement</span>
                            </div>
                            <div class="instruction">
                                <span class="key">ENTER</span>
                                <span class="desc">Fix lockpick at correct position</span>
                            </div>
                        </div>

                        <!-- Game rules -->
                        <div class="rules">
                            <h3>RULES</h3>
                            <ul>
                                <li>Unlock all 5 barrels in sequence</li>
                                <li>Failed ENTER attempt breaks 1 lockpick</li>
                                <li>Missed timing (no ENTER) just resets barrel</li>
                                <li>If lockpick breaks, ALL barrels reset</li>
                                <li>Press W for each attempt</li>
                                <li>Game resets on page refresh</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Inspired by TES4 Oblivion & Call of Cthulhu</p>
        </footer>
    </div>

    <!-- Audio elements for sounds -->
    <audio id="soundLockpickMove" preload="auto">
        <source src="sounds/move.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickFix" preload="auto">
        <source src="sounds/fix.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundLockpickBreak" preload="auto">
        <source src="sounds/break.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundBarrelUnlock" preload="auto">
        <source src="sounds/unlock.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>